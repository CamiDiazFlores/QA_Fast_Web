SOLO GENERA CÃ“DIGO PYTHON EJECUTABLE - NO ANÃLISIS NI EXPLICACIONES

PROHIBIDO:
âŒ "Entendido"
âŒ AnÃ¡lisis del test
âŒ Reportes
âŒ Explicaciones
âŒ Markdown ```python```
âŒ Preguntas sobre credenciales

OBLIGATORIO:
âœ… Primera lÃ­nea debe ser: # ConfiguraciÃ³n
âœ… Solo cÃ³digo Python puro
âœ… Sin texto adicional antes o despuÃ©s del cÃ³digo

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

TEST DE LOGIN CON EMAIL Y CONTRASEÃ‘A
URL: {url}
Email: {email}
ContraseÃ±a: {password}
Resultado esperado: {expected_result}

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

GENERA AHORA EL CÃ“DIGO (sin texto adicional):

# ConfiguraciÃ³n
url = "{url}"
email = "{email}"
password = "{password}"
expected_result = "{expected_result}"

print("=" * 80)
print("ğŸš€ INICIO: LOGIN CON EMAIL Y CONTRASEÃ‘A")
print("=" * 80)

# PASO 1: NavegaciÃ³n
print("\nğŸ“ PASO 1: Navegando a {{url}}")
driver.get(url)
time.sleep(3)
driver.execute_script("document.body.style.border='5px solid purple';")
print(f"âœ… PÃ¡gina cargada: {{{{driver.title}}}}")
save_screenshot()
time.sleep(2)

# PASO 2: Campo Email
print("\nğŸ“ PASO 2: Ingresando email")
try:
    email_field = WebDriverWait(driver, 10).until(
        EC.presence_of_element_located((By.XPATH, "//input[@type='email' or @name='email' or @id='email' or contains(@placeholder, 'mail')]"))
    )
    driver.execute_script("arguments[0].style.border='3px solid blue'; arguments[0].scrollIntoView({{{{block: 'center'}}}});", email_field)
    time.sleep(1)
    email_field.clear()
    for char in email:
        email_field.send_keys(char)
        time.sleep(0.05)
    print(f"âœ… Email ingresado: {{{{email}}}}")
    save_screenshot()
    time.sleep(1)
except Exception as e:
    print(f"âŒ Error en email: {{{{e}}}}")
    save_screenshot()

# PASO 3: Campo ContraseÃ±a
print("\nğŸ“ PASO 3: Ingresando contraseÃ±a")
try:
    password_field = WebDriverWait(driver, 10).until(
        EC.presence_of_element_located((By.XPATH, "//input[@type='password' or @name='password' or @id='password']"))
    )
    driver.execute_script("arguments[0].style.border='3px solid red'; arguments[0].scrollIntoView({{{{block: 'center'}}}});", password_field)
    time.sleep(1)
    password_field.clear()
    for i, char in enumerate(password):
        password_field.send_keys(char)
        time.sleep(0.05)
        if (i + 1) % 3 == 0:
            print(f"ğŸ”’ {{{{'*' * (i+1)}}}}")
    print("âœ… ContraseÃ±a ingresada")
    save_screenshot()
    time.sleep(1)
except Exception as e:
    print(f"âŒ Error en contraseÃ±a: {{{{e}}}}")
    save_screenshot()

# PASO 4: BotÃ³n de Login
print("\nğŸ“ PASO 4: Clickeando botÃ³n de login")
try:
    login_button = WebDriverWait(driver, 10).until(
        EC.element_to_be_clickable((By.XPATH, "//button[@type='submit' or contains(text(), 'Iniciar') or contains(text(), 'Login') or contains(text(), 'Entrar') or contains(text(), 'Acceder')]"))
    )
    driver.execute_script("arguments[0].style.border='5px solid green'; arguments[0].scrollIntoView({{{{block: 'center'}}}});", login_button)
    time.sleep(2)
    save_screenshot()
    login_button.click()
    print("âœ… BotÃ³n clickeado")
    time.sleep(5)
except Exception as e:
    print(f"âŒ Error al clickear botÃ³n: {{{{e}}}}")
    save_screenshot()

# PASO 5: ValidaciÃ³n de Login
print("\nğŸ“ PASO 5: Validando login exitoso")
time.sleep(3)
current_url = driver.current_url
page_title = driver.title
print(f"ğŸ”— URL actual: {{{{current_url}}}}")
print(f"ğŸ“„ TÃ­tulo: {{{{page_title}}}}")

success_indicators = [
    "dashboard" in current_url.lower(),
    "home" in current_url.lower(),
    "inicio" in current_url.lower(),
    "perfil" in current_url.lower(),
    "profile" in current_url.lower(),
    expected_result.lower() in current_url.lower(),
    url not in current_url
]

success_messages = [
    "//*[contains(text(), 'bienvenido')]",
    "//*[contains(text(), 'Bienvenido')]",
    "//div[contains(@class, 'success')]",
    "//div[contains(@class, 'dashboard')]"
]

login_successful = False

for check in success_indicators:
    if check:
        login_successful = True
        print("âœ… Indicador de Ã©xito: URL cambiÃ³ correctamente")
        break

if not login_successful:
    for selector in success_messages:
        try:
            success_elem = driver.find_element(By.XPATH, selector)
            if success_elem.is_displayed():
                driver.execute_script("arguments[0].style.border='5px solid green'; arguments[0].scrollIntoView({{{{block: 'center'}}}});", success_elem)
                print(f"âœ… Mensaje: {{{{success_elem.text}}}}")
                login_successful = True
                break
        except:
            continue

if login_successful:
    print("\n" + "=" * 80)
    print("âœ… LOGIN EXITOSO")
    print("=" * 80)
    driver.execute_script("""
        var div = document.createElement('div');
        div.innerHTML = 'âœ… LOGIN EXITOSO';
        div.style.cssText = 'position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background:green;color:white;padding:60px;font-size:32px;z-index:10000;border-radius:20px;box-shadow:0 0 30px rgba(0,255,0,0.5);';
        document.body.appendChild(div);
    """)
    save_screenshot()
    time.sleep(3)
else:
    print("\nâŒ LOGIN FALLIDO")
    save_screenshot()

print("\nğŸ FIN DEL TEST")
print("=" * 80)
